{% extends 'dashboard/dashboard_base.html' %}
{% load static %}
{% block title %}

{% endblock %}

{% block extra_style %}
    <link rel="stylesheet" href="{% static 'dashboard/assets/css/crowdfunding.css' %}">
    <link rel="stylesheet" href="{% static 'dashboard/assets/css/campaign-preview.css' %}">
{% endblock %}

{% block content %}
    {% include 'dashboard/crowdfunding/public/_cf_public_content.html' %}
{% endblock %}
{% block right-bar %}
    {% include 'dashboard/crowdfunding/public/_right_bar_on_pc.html' %}
{% endblock %}
{% block footer %}
{% endblock %}
{% block extra_script %}
    <script src="{% static 'dashboard/assets/js/crowdfunding/cf_public.js' %}"></script>

    <script>
        function onSearchMembers() {
            // Declare variables
            let input, filter, table, tr, td, i, txtValue;
            input = document.getElementById("search-member");
            filter = input.value.toUpperCase();
            table = document.getElementById("member-group");
            tr = table.getElementsByTagName("tr");

            // Loop through all table rows, and hide those who don't match the search query
            for (i = 0; i < tr.length; i++) {
                td = tr[i].getElementsByTagName("td")[0];
                if (td) {
                    txtValue = td.textContent || td.innerText;
                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                        tr[i].style.display = "";
                    } else {
                        tr[i].style.display = "none";
                    }
                }
            }
        }

        function onSearchContributors() {
            // Declare variables
            let input, filter, table, tr, td, i, txtValue;
            input = document.getElementById("search-contributor");
            filter = input.value.toUpperCase();
            table = document.getElementById("contributor-group");
            tr = table.getElementsByTagName("tr");

            // Loop through all table rows, and hide those who don't match the search query
            for (i = 0; i < tr.length; i++) {
                td = tr[i].getElementsByTagName("td")[0];
                if (td) {
                    txtValue = td.textContent || td.innerText;
                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                        tr[i].style.display = "";
                    } else {
                        tr[i].style.display = "none";
                    }
                }
            }
        }
    </script>
    <script type="text/javascript">
        $(function () {
            $(".table-wrapper").slimScroll({
                size: '8px',
                width: '100%',
                height: '100%',
                color: 'lightgray',
                allowPageScroll: true,
            });
        });
    </script>
{% endblock %}